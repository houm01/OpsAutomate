[global_tags]

[agent]
  interval = "60s"
  round_interval = true
  metric_batch_size = 10000
  metric_buffer_limit = 20000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "5s"
  precision = "0s"
  omit_hostname = false
  
    snmp_translator = "gosmi"
  


[[outputs.influxdb]]
  urls = ["https://xxx:8086"]
  database = "telegraf"
  timeout = "60s"
  username = "telegraf"
  password = "XXXX"
  skip_database_creation = true
  insecure_skip_verify = true


 
        

            

                [[inputs.snmp]]
  agents = ["udp://10.1.1.1"]
  version = 2
  timeout = "30s"
  retries = 3
  community = ""
                    
                        
  [[inputs.snmp.field]]
    name = "sysUpTime"
    oid = "SNMPv2-MIB::sysUpTime.0"
    conversion = "float(2)"

  [[inputs.snmp.field]]
    name = "sysName"
    oid = "SNMPv2-MIB::sysName.0"
    is_tag = true

  [[inputs.snmp.field]]
    name = "sysDescr"
    oid = "SNMPv2-MIB::sysDescr.0"

  [[inputs.snmp.table]]
    oid = "IF-MIB::ifTable"
    name = "interface"
    inherit_tags = ["sysName"]

  [[inputs.snmp.table.field]]
    oid = "IF-MIB::ifName"
    name = "ifName"
    is_tag = true

  [[inputs.snmp.table.field]]
    name = "ifHCInOctets"
    oid = "IF-MIB::ifHCInOctets"

  [[inputs.snmp.table.field]]
    name = "ifHCOutOctets"
    oid = "IF-MIB::ifHCOutOctets"


  [[processors.enum]]
    namepass = ["interface"]

  [[processors.enum.mapping]]
    ## Name of the tag to map
    field = "ifOperStatus"

    ## Table of mappings
    [processors.enum.mapping.value_mappings]
      1 = "up"
      2 = "down"
      3 = "testing"
      4 = "unknown"
      5 = "dormant"
      6 = "notPresent"
      7 = "lowerLayerDown"
                    
                    
            
      
    

            

                [[inputs.snmp]]
  agents = ["udp://10.1.1.2"]
  version = 2
  timeout = "30s"
  retries = 3
  community = ""
                    
                          [[inputs.snmp.field]]
    name = "sysUpTime"
    oid = "SNMPv2-MIB::sysUpTime.0"
    conversion = "float(2)"

  [[inputs.snmp.field]]
    name = "sysName"
    oid = "SNMPv2-MIB::sysName.0"
    is_tag = true

  [[inputs.snmp.field]]
    name = "sysDescr"
    oid = "SNMPv2-MIB::sysDescr.0"

  [[inputs.snmp.table]]
    oid = "IF-MIB::ifTable"
    name = "interface"
    inherit_tags = ["sysName"]

  [[inputs.snmp.table.field]]
    oid = "IF-MIB::ifName"
    name = "ifName"
    is_tag = true

  [[inputs.snmp.table.field]]
    name = "ifHCInOctets"
    oid = "IF-MIB::ifHCInOctets"

  [[inputs.snmp.table.field]]
    name = "ifHCOutOctets"
    oid = "IF-MIB::ifHCOutOctets"


  [[processors.enum]]
    namepass = ["interface"]

  [[processors.enum.mapping]]
    ## Name of the tag to map
    field = "ifOperStatus"

    ## Table of mappings
    [processors.enum.mapping.value_mappings]
      1 = "up"
      2 = "down"
      3 = "testing"
      4 = "unknown"
      5 = "dormant"
      6 = "notPresent"
      7 = "lowerLayerDown"

                    
            
      
    

